<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>RP Digital Bank - Add new Account Type</title>
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
    <script src="/bootstrap/js/bootstrap.js"></script>
    <script th:if="${duplicateAccount_Type_Error}">
    alert("Account Type already exists! Please enter a unique Account Type name.");
</script>

</head>
<body>
    <div class="container">
<!--         <div th:replace="fragments/header"></div>
 -->        <h1>Add new Account Type</h1>
        <form th:action="@{/Account_type/save}" class="needs-validation" action="/Account_type/save" method="post" th:object="${account_type}" novalidate>
            <div class="mb-3 col-5">
                <label for="category_name" class="form-label">Account Type</label>
                <input id="category_name" type="text" class="form-control" th:field="*{name}" required minlength="3" maxlength="20" />
                <div class="invalid-feedback">Please enter a Account Type</div>
                <p class="text-danger" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></p>
            </div>
            <div class="mt-3">
                <button type="submit" class="btn btn-primary">Save</button>
            </div>
        </form>

        <script>
            'use strict';

            var form = document.querySelector('.needs-validation');
            var submitButton = form.querySelector('button[type="submit"]');
            var errorFeedback = form.querySelector('.invalid-feedback');

            submitButton.addEventListener('click', function(event) {
                if (!form.checkValidity()) {
                    event.preventDefault();
                    event.stopPropagation();
                    errorFeedback.style.display = 'block';
                }

                form.classList.add('was-validated');
            });
        </script>
    </div>
</body>
</html>
