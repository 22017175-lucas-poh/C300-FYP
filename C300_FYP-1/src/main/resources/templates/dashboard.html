<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RP Digital Bank - Dashboard</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link
	href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap"
	rel="stylesheet">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body {
	font-family: 'Poppins', sans-serif;
	background-color: #f8f9fa;
	color: #343a40;
}

.dashboard {
	padding: 30px;
}

.dashboard h1, .dashboard h2 {
	color: #0d6efd;
	font-weight: 600;
}

.card {
	border: none;
	border-radius: 10px;
	box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
	transition: transform 0.2s;
}

.card:hover {
	transform: translateY(-5px);
}

table {
	background-color: white;
	border-radius: 10px;
	overflow: hidden;
}

th {
	background-color: #0d6efd;
	color: white;
}

.chart-container {
	height: 200px;
}

.user-details {
	background-color: #fff;
	border-radius: 10px;
	padding: 20px;
	box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
	margin-bottom: 30px;
}

.user-details h3 {
	font-size: 1.5rem;
	margin-bottom: 10px;
}

.user-details p {
	margin-bottom: 5px;
}

footer {
	background-color: #343a40;
	color: white;
	padding: 20px 0;
	text-align: center;
	margin-top: 30px;
}

/* Slideshow Styles */
.hero {
	background-image:
		url('https://images.unsplash.com/photo-1507842217343-583bb7275b66?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
	/* Replace with your background image */
	background-size: cover;
	background-position: center;
	color: white;
	text-align: center;
	padding: 100px 0;
	margin-bottom: 30px;
	overflow: hidden; /* Prevent image overflow */
}

.hero h2 {
	font-weight: bold;
	margin-bottom: 20px;
}

.hero p {
	font-size: 1.2rem;
}

#heroCarousel img {
	height: 500px; /* Adjust height as needed */
	object-fit: cover; /* Important: Ensures images fill the container */
}

.carousel-caption {
	background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
	bottom: 20%; /* Position captions higher */
}

.carousel-caption h2 {
	font-weight: bold;
}

.carousel-caption p {
	font-size: 1.2rem;
}
</style>
</head>
<body>
	<div th:replace="fragments/header"></div>

	<section class="hero">
		<div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
			<div class="carousel-indicators">
				<button type="button" data-bs-target="#heroCarousel"
					data-bs-slide-to="0" class="active" aria-current="true"
					aria-label="Slide 1"></button>
				<button type="button" data-bs-target="#heroCarousel"
					data-bs-slide-to="1" aria-label="Slide 2"></button>
				<button type="button" data-bs-target="#heroCarousel"
					data-bs-slide-to="2" aria-label="Slide 3"></button>
			</div>
			<div class="carousel-inner">
				<div class="carousel-item active">
					<img th:src="@{/images/slide1.jpg}" class="d-block w-100"
						alt="Online Banking">
					<div class="carousel-caption d-md-block">
						<h2>Online Banking</h2>
						<p>Manage your finances from anywhere, anytime.</p>
					</div>
				</div>
				<div class="carousel-item">
					<img th:src="@{/images/slide2.jpg}" class="d-block w-100"
						alt="Mobile App">
					<div class="carousel-caption d-md-block">
						<h2>Mobile App</h2>
						<p>Bank on the go with our intuitive mobile app.</p>
					</div>
				</div>
				<div class="carousel-item">
					<img th:src="@{/images/slide3.jpg}" class="d-block w-100"
						alt="Personalized Service">
					<div class="carousel-caption d-md-block">
						<h2>Personalized Service</h2>
						<p>Dedicated support and tailored financial advice.</p>
					</div>
				</div>
			</div>
			<button class="carousel-control-prev" type="button"
				data-bs-target="#heroCarousel" data-bs-slide="prev">
				<span class="carousel-control-prev-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Previous</span>
			</button>
			<button class="carousel-control-next" type="button"
				data-bs-target="#heroCarousel" data-bs-slide="next">
				<span class="carousel-control-next-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Next</span>
			</button>
		</div>
	</section>
	<div class="dashboard container">
		<h1>
			Welcome, <span th:text="${member.name}"></span>!
		</h1>
		<!-- Overview Cards -->
		<div class="row mb-4">
			<div class="col-md-4">
				<div class="card p-3">
					<h5 class="card-title">Total Balance</h5>
					<p class="display-6">$15,000</p>
				</div>
			</div>
			<div class="col-md-4">
				<div class="card p-3">
					<h5 class="card-title">Savings Account</h5>
					<p class="display-6">$10,000</p>
				</div>
			</div>
			<div class="col-md-4">
				<div class="card p-3">
					<h5 class="card-title">Investments</h5>
					<p class="display-6">$5,000</p>
				</div>
			</div>
		</div>
		<!-- Charts Section -->
		<div class="row mb-4">
			<div class="col-md-6">
				<div class="card p-3">
					<h5 class="card-title">Recent Transactions</h5>
					<div class="chart-container">
						<canvas id="transactionChart"></canvas>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="card p-3">
					<h5 class="card-title">Cash Flow</h5>
					<div class="chart-container">
						<canvas id="cashflowChart"></canvas>
					</div>
				</div>
			</div>
		</div>

		<!-- Transaction History -->
		<div class="card p-3 mb-4">
			<h5 class="card-title">Transaction History</h5>
			<table class="table table-striped">
				<thead>
					<tr>
						<th>Date</th>
						<th>Description</th>
						<th>Amount</th>
						<th>Status</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>2025-01-01</td>
						<td>Online Transfer</td>
						<td>$500</td>
						<td>Completed</td>
					</tr>
					<tr>
						<td>2025-01-05</td>
						<td>Bill Payment</td>
						<td>$200</td>
						<td>Completed</td>
					</tr>
					<tr>
						<td>2025-01-07</td>
						<td>ATM Withdrawal</td>
						<td>$100</td>
						<td>Pending</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	<!-- User Information Section -->
	<div class="row mb-4">
		<!-- User Information -->
		<div class="col-md-6">
			<div class="card p-3 user-details">
				<h3>User Information</h3>
				<p>
					<strong>ID:</strong> <span th:text="${member.customId}"></span>
				</p>
				<p>
					<strong>Name:</strong> <span th:text="${member.name}"></span>
				</p>
				<p>
					<strong>Username:</strong> <span th:text="${member.username}"></span>
				</p>
				<p>
					<strong>Email:</strong> <span th:text="${member.email}"></span>
				</p>
				<p>
					<a href="/Member/detail" class="btn btn-primary">Edit Info</a>
				</p>
			</div>
		</div>

		<!-- Consultations -->
		<div class="col-md-6">
			<div class="card p-3">
				<h3>Your Consultations</h3>
				<div class="row">
					<div class="col-md-12"
						th:each="consultation : ${listConsultations}">
						<div class="card p-3 mb-3">
							<div class="card-body">
								<h5 class="card-title">
									Date: <span th:text="${consultation.consultationDate}"></span>
								</h5>
								<p>
									FA Name: <span th:text="${consultation.consultantName}"></span>
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row mb-4">
		<div class="col-md-12">
			<div class="card p-4">
				<h5 class="card-title">Accounts</h5>
				<table class="table table-striped">
					<thead>
						<tr>
							<th>Account Name</th>
							<th>Account Number</th>
							<th>Balance</th>
						</tr>
					</thead>
					<tbody th:each="account : ${listAccounts}">
						<tr th:if="${account.status.name() == 'ACTIVE'}">
							<td th:text="${account.accountType.name}"></td>
							<td th:text="${account.accountNumber}"></td>
							<td th:text="${account.balance}"></td>
						</tr>
					</tbody>

				</table>
			</div>
		</div>
	</div>

	<div class="row mb-4">
		<div class="col-md-12">
			<div class="card p-4">
				<h5 class="card-title">Credit Cards</h5>
				<table class="table table-striped">
					<thead>
						<tr>
							<th>Name</th>
							<th>Card Number</th>
							<th>Expiry Date</th>
						</tr>
					</thead>
					
					<tbody th:each="Card : ${listCards}">
					<tr th:if="${Card.status.name() == 'APPROVED'}">
							<td th:text="${Card.cardType.name}"></td>
							<td th:text="${Card.cardNumber}"></td>
							<td th:text="${Card.expiryDate}"></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>


	<div th:replace="fragments/footer"></div>

	<script>
		// Example Data
		const transactionData = [ 1000, 1200, 900, 1500 ];
		const cashflowData = [ 2000, 2500, 2200, 2800 ];
		const holdingsData = [ 5000, 3000, 4000 ];
		const holdingsLabels = [ 'Savings', 'Checking', 'Investments' ];

		// Transaction Chart
		new Chart(document.getElementById('transactionChart'), {
			type : 'bar',
			data : {
				labels : [ 'Week 1', 'Week 2', 'Week 3', 'Week 4' ],
				datasets : [ {
					label : 'Transaction Volume',
					data : [ 1000, 1200, 1100, 1500 ],
					backgroundColor : '#0d6efd'
				} ]
			}
		});

		// Cash Flow Chart
		new Chart(document.getElementById('cashflowChart'), {
			type : 'line',
			data : {
				labels : [ 'January', 'February', 'March', 'April' ],
				datasets : [ {
					label : 'Cash Flow',
					data : [ 2000, 2500, 2200, 2800 ],
					borderColor : '#198754',
					tension : 0.4
				} ]
			}
		});

		// Holdings Chart
		new Chart(document.getElementById('holdingsChart'), {
			type : 'pie',
			data : {
				labels : holdingsLabels,
				datasets : [ {
					data : holdingsData,
					backgroundColor : [ '#0d6efd', '#ffc107', '#198754' ]
				} ]
			}
		});
	</script>
</body>
</html>
